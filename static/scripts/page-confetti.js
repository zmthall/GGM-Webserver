(()=>{let h={parsePx:t=>parseFloat(t.replace(/px/,"")),getRandomInRange:(t,i,e=0)=>{e=Math.pow(10,e),i=Math.random()*(i-t)+t;return Math.floor(i*e)/e},getRandomItem:t=>t[Math.floor(Math.random()*t.length)],getScaleFactor:()=>Math.log(window.innerWidth)/Math.log(1920),debounce:(i,e)=>{let s;return(...t)=>{clearTimeout(s),s=setTimeout(()=>i(...t),e)}}},d=Math.PI/180,r={confettiesNumber:250,confettiRadius:6,confettiColors:["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"],emojies:[],svgIcon:null};class c{constructor({initialPosition:t,direction:i,radius:e,colors:s,emojis:n,svgIcon:o}){var a=h.getRandomInRange(.9,1.7,3)*h.getScaleFactor(),a=(this.speed={x:a,y:a},this.finalSpeedX=h.getRandomInRange(.2,.6,3),this.rotationSpeed=n.length||o?.01:h.getRandomInRange(.03,.07,3)*h.getScaleFactor(),this.dragCoefficient=h.getRandomInRange(5e-4,9e-4,6),this.radius={x:e,y:e},this.initialRadius=e,this.rotationAngle="left"===i?h.getRandomInRange(0,.2,3):h.getRandomInRange(-.2,0,3),this.emojiRotationAngle=h.getRandomInRange(0,2*Math.PI),this.radiusYDirection="down","left"===i?h.getRandomInRange(82,15)*d:h.getRandomInRange(-15,-82)*d),e=(this.absCos=Math.abs(Math.cos(a)),this.absSin=Math.abs(Math.sin(a)),h.getRandomInRange(-150,0)),a={x:t.x+("left"===i?-e:e)*this.absCos,y:t.y-e*this.absSin};this.position={...a},this.initialPosition={...a},this.color=n.length||o?null:h.getRandomItem(s),this.emoji=n.length?h.getRandomItem(n):null,this.svgIcon=null,o&&(this.svgImage=new Image,this.svgImage.src=o,this.svgImage.onload=()=>{this.svgIcon=this.svgImage}),this.createdAt=Date.now(),this.direction=i}draw(t){var{x:i,y:e}=this.position,{x:s,y:n}=this.radius,o=window.devicePixelRatio;this.svgIcon?(t.save(),t.translate(o*i,o*e),t.rotate(this.emojiRotationAngle),t.drawImage(this.svgIcon,-s,-n,2*s,2*n),t.restore()):this.color?(t.fillStyle=this.color,t.beginPath(),t.ellipse(i*o,e*o,s*o,n*o,this.rotationAngle,0,2*Math.PI),t.fill()):this.emoji&&(t.font=s*o+"px serif",t.save(),t.translate(o*i,o*e),t.rotate(this.emojiRotationAngle),t.textAlign="center",t.fillText(this.emoji,0,n/2),t.restore())}updatePosition(t,i){i-=this.createdAt;this.speed.x>this.finalSpeedX&&(this.speed.x-=this.dragCoefficient*t),this.position.x+=this.speed.x*("left"===this.direction?-this.absCos:this.absCos)*t,this.position.y=this.initialPosition.y-this.speed.y*this.absSin*i+.00125*Math.pow(i,2)/2,this.emoji||this.svgIcon||(this.rotationSpeed-=1e-5*t,this.rotationSpeed=Math.max(this.rotationSpeed,0),"down"===this.radiusYDirection?(this.radius.y-=t*this.rotationSpeed,this.radius.y<=0&&(this.radius.y=0,this.radiusYDirection="up")):(this.radius.y+=t*this.rotationSpeed,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYDirection="down")))}isVisible(t){return this.position.y<t+100}}let t=new class{constructor(){this.canvas=document.createElement("canvas"),this.canvas.style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; pointer-events: none;",document.body.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.confetti=[],this.lastUpdated=Date.now(),window.addEventListener("resize",h.debounce(()=>this.resizeCanvas(),200)),this.resizeCanvas(),requestAnimationFrame(()=>this.loop())}resizeCanvas(){this.canvas.width=window.innerWidth*window.devicePixelRatio,this.canvas.height=window.innerHeight*window.devicePixelRatio}addConfetti(t={}){var{confettiesNumber:i,confettiRadius:e,confettiColors:s,emojies:n,svgIcon:o}={...r,...t},a=5*window.innerHeight/7;for(let t=0;t<i/2;t++)this.confetti.push(new c({initialPosition:{x:0,y:a},direction:"right",radius:e,colors:s,emojis:n,svgIcon:o})),this.confetti.push(new c({initialPosition:{x:window.innerWidth,y:a},direction:"left",radius:e,colors:s,emojis:n,svgIcon:o}))}resetAndStart(t={}){this.confetti=[],this.addConfetti(t)}loop(){let i=Date.now(),e=i-this.lastUpdated;this.lastUpdated=i,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.confetti=this.confetti.filter(t=>(t.updatePosition(e,i),t.draw(this.context),t.isVisible(this.canvas.height))),requestAnimationFrame(()=>this.loop())}};t.addConfetti();var i=document.getElementById("show-again"),i=(i&&i.addEventListener("click",()=>t.addConfetti()),document.getElementById("reset"));i&&i.addEventListener("input",()=>t.resetAndStart())})();