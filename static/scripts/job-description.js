class EmploymentPageHandler{constructor(){this.employment={jobDescriptionBtns:document.querySelectorAll("[data-modal-btn]"),jobOpportunitySection:document.querySelector("[data-job-opportunities]")},this.employment.jobDescriptionBtns.forEach(t=>{t.addEventListener("click",async t=>{var t=t.target.getAttribute("data-modal-btn").split("|"),e=await this.getPageComponents(t),e=this.buildJobDescriptionModal(e,t);this.openModal(e)})})}buildJobDescriptionModal(t,e){var o=document.createElement("article"),n=(o.classList.add("job-description-modal"),o.setAttribute("data-job-description-modal",""),document.createElement("div")),s=(n.classList.add("job-description-modal-container"),this.buildCloseButton(o)),e=this.buildApplyButton(e);n.append(s);for(const i in t)"title"!==i?n.innerHTML+="<div class='job-description-content'>"+t[i]+"</div>":n.innerHTML+=t[i];return n.append(e),o.append(n),o}buildCloseButton(t){var e=document.createElement("button");return e.type="button",e.classList.add("close-button"),e.setAttribute("data-close-btn","job-description"),e.innerText="X",e}buildApplyButton(t){let e="/about-us/employment/apply?select=";3===t.length?e+=t[1]+"-"+t[2]:e+=t[0]+"-"+t[1];t=document.createElement("a");return t.classList.add("primary-button","job-description-apply-button"),t.innerText="Apply Now",t.href=e,t}async getPageComponents(t){let e;var o=new Request("/json/job-descriptions.json",{method:"GET"}),o=await(await fetch(o)).json();return e=3===t.length?o[t[0]][t[1]][t[2]]:o[t[0]][t[1]]}openModal(t){const e=this;this.employment.jobOpportunitySection.append(t);t=document.querySelector("[data-close-btn]");this.employment.jobOpportunitySection.classList.add("open-modal"),document.body.classList.add("no-scroll"),t.addEventListener("click",t=>{e.closeModal(t.target.closest("article"))})}closeModal(t){t.remove(),this.employment.jobOpportunitySection.classList.remove("open-modal"),document.body.classList.remove("no-scroll")}}window.addEventListener("load",t=>{new EmploymentPageHandler});