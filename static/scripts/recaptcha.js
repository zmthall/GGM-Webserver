class OnSiteRecaptcha{constructor(){this.form=document.forms["contact-form"],this.formType=this.form.getAttribute("data-form-type"),this.publicKey="6LeZz0UqAAAAACaVm35S2EemtZ1XGc_T1GV4o0wf",this.verifyURL=this.getVerifyURL(),this.createEventListener()}async createEventListener(){let e=this;this.form.addEventListener("submit",t=>{t.preventDefault(),grecaptcha.ready(function(){grecaptcha.execute(e.publicKey,{action:"submit"}).then(async function(t){var t=e.createData(t),t=(console.log(t),await e.verifySubmission(t));200===t&&(t=new URL("/contact-us/thank-you",window.location.origin),window.location.replace(t))})})})}getVerifyURL(){return"contact"===this.formType?"/contact-us/send-email":"application"===this.formType?"/about-us/employment/apply":void 0}createData(t){var e=new FormData(document.forms["contact-form"]);return e.append("captcha",t),e}async verifySubmission(t){t=new Request(this.verifyURL,{method:"POST",body:t});try{var e=await fetch(t);return console.log(await e.json()),e.status}catch(t){return!1}}}let recaptchaController=new OnSiteRecaptcha;