class OnSiteRecaptcha{constructor(){this.form=document.forms["contact-form"],this.publicKey="6LeZz0UqAAAAACaVm35S2EemtZ1XGc_T1GV4o0wf",this.verifyURL="/contact-us/send-email",this.createEventListener()}async createEventListener(){let e=this;this.form.addEventListener("submit",t=>{t.preventDefault(),grecaptcha.ready(function(){grecaptcha.execute(e.publicKey,{action:"submit"}).then(async function(t){var t=e.createData(t);200===await e.verifySubmission(t)&&(t=new URL("/contact-us/thank-you",window.location.origin),console.log(t),window.location.replace(t))})})})}createData(t){this.formData=new FormData(this.form);var e,a={formData:{}};for(e of this.formData.entries())a.formData[e[0]]=e[1];return a.captcha=t,a}async verifySubmission(t){t=new Request(this.verifyURL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return(await fetch(t)).status}}let recaptchaController=new OnSiteRecaptcha;